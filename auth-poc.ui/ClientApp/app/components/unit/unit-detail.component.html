<h1>Unit Detail</h1>

<p *ngIf="!unit">
    <em>Loading...</em>
</p>

<form *ngIf="unit" name="form" #f="ngForm" (ngSubmit)="submit()">
    <div class="form-group">
        <label>Unit Name</label>
        <input type="text" class="form-control" name="name" #name="ngModel" [(ngModel)]="unit.unitName" maxlength="25" required />
        <div *ngIf="name.errors && name.errors.required" class="label label-danger">This field is required.</div>
    </div>

    <div class="form-group">
        <label>Unit Type</label>
        <select class="form-control" name="unitTypeId" #unitTypeId="ngModel" [(ngModel)]="unit.unitTypeId" required>
            <option *ngFor="let unitType of unitTypes" [value]="unitType.unitTypeId">{{ unitType.unitTypeName }}</option>
        </select>
        <div *ngIf="unitTypeId.errors && unitTypeId.errors.required">This field is required.</div>
    </div>

    <table class="table">
        <thead>
            <tr>
                <td></td>
            </tr>
            <tr>
                <td>Food</td>
                <td>Wood</td>
                <td>Gold</td>
                <td>Stone</td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <input type="number" name="food" class="form-control" [(ngModel)]="unit.food" min="0" required />
                </td>
                <td>
                    <input type="number" name="wood" class="form-control" [(ngModel)]="unit.wood" min="0" required />
                </td>
                <td>
                    <input type="number" name="gold" class="form-control" [(ngModel)]="unit.gold" min="0" required />
                </td>
                <td>
                    <input type="number" name="stone" class="form-control" [(ngModel)]="unit.stone" min="0" required />
                </td>
            </tr>
        </tbody>
    </table>

    <div class="form-group">
        <label>Move Speed</label>
        <input type="number" class="form-control" name="moveSpeed" #moveSpeed="ngModel" [(ngModel)]="unit.moveSpeed" min="0" required/>
        <div *ngIf="moveSpeed.errors && moveSpeed.errors.required" class="label label-danger">This field is required.</div>
        <label>Line of Sight</label>
        <input type="number" class="form-control" name="lineOfSight" #lineOfSight="ngModel" [(ngModel)]="unit.lineOfSight" min="0" required />
        <div *ngIf="lineOfSight.errors && lineOfSight.errors.required" class="label label-danger">This field is required.</div>
        <label>Health</label>
        <input type="number" class="form-control" name="health" #health="ngModel" [(ngModel)]="unit.health" min="0" required />
        <div *ngIf="health.errors && health.errors.required" class="label label-danger">This field is required.</div>
    </div>

    <div class="form-group">
        <label>Attack Range</label>
        <label>Attack Type</label>
        <label>Attack Speed</label>
    </div>

    <div class="form-group controls">
        <button type="submit" class="btn btn-success" [disabled]="!f.form.valid">Submit</button>
        <button type="button" class="btn" [routerLink]="['/unit-list']">Cancel</button>
    </div>
</form>